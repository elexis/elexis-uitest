--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _QPqdkBNIEemmeedSb1JQew,_LkBSkBsDEembU9g-6bJhVg,_7pLWIBQVEemEb8FG0wciYA,_jOjx0CCAEem06Mv2pVmYtA
Element-Name: BasicKonsTests
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _GbaREP_HEeiXxf0UDvXYOw
Runtime-Version: 2.4.1.201903190000
Save-Time: 4/20/19 1:43 PM
Testcase-Type: ecl
Verifications: _GcdboAX2Eemcp9WoDsgIvA

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

// requires ImportSwissBase and BasicMandanten or demoDB run before
get-eclipse-window | get-object | invoke setSize 1280 1024
resetPerspective
global [val test_abr [ concat [ t case_KVG ] "-" $defaultLanguage ] ] -override

// Keep AbrechnungsSystemKonfigurieren synced between BasicKonsTests, BasicPrinting and TarmedFallVerrechnen
AbrechnungsSystemKonfigurieren -abrSystem $test_abr -startDate "01.09.2018" -newFactor "0.95" 
PatientMitFallUndKonsErstellenOderAuswaehlen -caseName $test_abr
PatientMitFallUndKonsErstellenOderAuswaehlen -familyName "Armes Wesen" -firstName Manuel -caseName  $test_abr
PatientMitFallUndKonsErstellenOderAuswaehlen -familyName "Berset" -firstName Alain -caseName $test_abr
kons-neue-diagnose [ t kons_diagnose.1.reiter ] [ t kons_diagnose.1.item ]

kons-add-block  -blockName "kons plus (KVG)" -expectedItemsAdded 4
kons-add-tarmed [ concat "10.0010" ]
kons-add-artikelstamm -item_short Losartan -item_long "LOSARTAN.*7 Stk.*"

// TODO: The next two tests work only with the demoDB. We must change them to be able to run them
// via RunFromScratch or a new demoDB initialized with all data
// kons-add-eigenleistung
kons-neue-diagnose [ t kons_diagnose.1.reiter ] [ t kons_diagnose.1.item ]

elexisLogMayNotContain "java.lang.OutOfMemoryError"

// Ende
//
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
